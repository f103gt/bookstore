# Book Inventory Management System

## **CreateBook**
Adds a book to the database. As input takes `NewBookRequest(title,author,isbn,quantity)`, as output provides `Book(id, title, author, isbn,quantity)`.

- No need to provide id, it is automatically generated by the database in form of UUID.
- ISBN value must be unique, therefore, whenever the book with the same ISBN value is about to be inserted, the method returns error status ALREADY_EXISTS.
- Also, it performs validation of the client input, meaning that empty string fields (title,author, isbn) and negative quantity will cause INVALID_ARGUMENT error status.
- In case any internal server error occurs, the method returns INTERNAL error status.

## **GetBookById**
Returns book by its id. As input takes `BookIDRequest(id)` and returns `Book(id, title, author, isbn,quantity)`.

- In case a book by the provided id is not found, the method returns NOT_FOUND error status.
- Any internal server error causes INTERNAL error status to be returned.

## **UpdateBook**
Updates all the modified fields of Book. As input takes `Book(id, title, author, isbn,quantity)`, provides `Book(id, title, author, isbn,quantity)` output.

- If the book is not found by the provided id, returns a NOT_FOUND error status.
- It is impossible to update fields with invalid values(empty string fields, negative quantity), meaning that the validation stage will cause INVALID_ARGUMENT error status.
- If ISBN is being changed to the already existing one, ALREADY_EXISTS error status is provided.
- In case any internal server error occurs, the method returns INTERNAL error status.

## **DeleteBookById**
Deletes book by its id. As an input takes `BookIDRequest(id)` and provides an empty return.

- In case the book with the provided id does not exist, a NOT_FOUND error is thrown.
- If any internal errors occur, the book INTERNAL error status is provided.

## **GetBooksByAuthor**
Provides all the books of the particular author. As an input takes in `BookBookAuthorRequest(author)` and returns all the books `Book(id, title, author, isbn,quantity)` stored under this author name.

- In case the author's name is not found in the database, the NOT_FOUND error status is returned.
- If any unpredicted error occurs on the server side INTERNAL status is returned.

## PREREQUISITES:
To test the application Postman or grpcurl can be used.

### Postman:
- The program DOES NOT provide a way to make API request, therefore, you would need to preliminarily download schema.proto located in this GitHub repository in /bookstore/src/main/proto
- After this follow the steps provided, and do not forget to DISABLE TLS https://blog.postman.com/postman-now-supports-grpc/
- In URL provide the mentioned URL

### Grpcurl:
- NO NEED to download schema.proto
- Just state the mentioned URL and make requests to com.test.bookstore.BookService/
- Always include -plaintext parameter to disable TLS
